<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1" />
    <title>StreamFlex</title>
    
    <!-- Comprehensive Ad-Blocking Script -->
    <script>
      (function() {
        'use strict';
        
        // Block all popups
        window.open = function(url, name, specs) {
          console.log('Popup blocked:', url);
          return {
            focus: () => {},
            blur: () => {},
            close: () => {},
            closed: false,
            location: { href: '' },
            document: { write: () => {}, close: () => {} }
          };
        };

        // Block dialogs
        window.alert = function(message) {
          console.log('Alert blocked:', message);
          return;
        };
        
        window.confirm = function(message) {
          console.log('Confirm blocked:', message);
          return false;
        };
        
        window.prompt = function(message) {
          console.log('Prompt blocked:', message);
          return null;
        };

        // Block navigation redirects
        const originalAssign = window.location.assign;
        const originalReplace = window.location.replace;
        
        window.location.assign = function(url) {
          console.log('Navigation blocked to:', url);
          return false;
        };
        
        window.location.replace = function(url) {
          console.log('Navigation blocked to:', url);
          return false;
        };

        // Ad element blocking
        function blockAds() {
          const adSelectors = [
            '[class*="ad"]', '[id*="ad"]', '[class*="popup"]', '[id*="popup"]',
            '[class*="banner"]', '[id*="banner"]', '[class*="sponsor"]', '[id*="sponsor"]',
            'iframe[src*="ads"]', 'iframe[src*="doubleclick"]', 'iframe[src*="googlesyndication"]',
            '.advertisement', '.ad-container', '.popup-overlay', '.modal-backdrop'
          ];
          
          adSelectors.forEach(selector => {
            try {
              const elements = document.querySelectorAll(selector);
              elements.forEach(el => {
                el.style.display = 'none !important';
                el.remove();
              });
            } catch (e) {}
          });
        }

        // Run ad blocking
        blockAds();
        setInterval(blockAds, 1000);
        
        if (window.MutationObserver) {
          const observer = new MutationObserver(blockAds);
          observer.observe(document.body || document.documentElement, {
            childList: true,
            subtree: true
          });
        }
      })();
    </script>
  </head>
  <body>
    <div id="root"></div>
    <script type="module" src="/src/main.tsx"></script>
  </body>
</html>